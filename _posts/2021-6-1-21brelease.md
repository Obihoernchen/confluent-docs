---
layout: post
title:  3.2.0 Confluent release
categories: hpc update
---
-Firmware updates, media, os import, and more no longer require confluent user to read.
  When using the CLI client, the end user may open and provide access to
  the relevant file rather than requiring the confluent user be able to open
  it independently.
-Refreshed support for Lenovo v2 product family

-Ansible playbooks are now supported in OS profiles
  A profile may contain ansible/post.d/, ansible/firstboot.d/, and/or ansible/onboot.d/ yaml files. If present,
  then confluent will execute the plays on the management node targeted at a node reaching
  that phase of deployment. The 'Hosts' line will be provided by confluent, and should be
  omitted from plays in those directories.  Requires `osdeploy initialize -a`

-Syncfiles facility implemented
  * Implements a superset of syntax as xCAT syncfiles
  * syncfiles file in a profile directory directs functionality (samples available in default profiles)
  * Requires `osdeploy initialize -a`
-Improve confluent genesis
  * Confluent genesis may now be targeted by ansbile plays
  * Console behavior is enhanced for video console when serial is in use
  * Confluent now supports LVM2 drives for rescue activity

-Improved collective behavior
  * Improve speed of convergence of state information
  * Reduce instances of 'lost' collective members missed during startup
  * Better handling of long-running remote tasks to avoid false errors about collective member going unreachable

-Permit limiting switch interrogation through `collective.managercandidates` to assign switches to subsets of a collective

-Move the Web GUI consoles to websockets, reducing server load and improving browser experience

-Enhanced deployment to disk behavior
  * A firstboot.d script may now 'reboot' without breaking firstboot support
  * Output is now more prominent on console and in /var/log/confluent
  * A new `source_remote_parts` is added to let a script source, rather than run, segregated scripts that are remote.
  * Some envirnonment variables have had 'confluent_' prepended, to avoid conflict with other uses of the common variable names.

-`nodeshell` now has a `-s` argument to allow specifying an alternative name (e.g. `bmc-{node}`) or suffix (e.g. `-eth1`) for ssh processes

-Encrypt private ssh keys used as CA and for automation, if supported by OS
  The private keys are now encrypted on generation, and ssh-agent is used
  to decrypt.

-`nodereseat` can now reseat Lenovo v2 family rackmount servers
-`osdeploy` now has a `list` subcommand to show distributions and profiles
-Numerous performance improvements
  * VT-aware buffering is now offloaded and rewritten in C
  * SNMP switch interrogation is offloaded the main process
  * nodeconfig memory consumption has been improved
  * Improved discovery performance
- OS deployment support for CentOS, Alma, Rocky, and RedHat through 8.4, and CentOS Stream.
-`nodesetboot` and `nodeboot` now accept `usb` as a boot device target


